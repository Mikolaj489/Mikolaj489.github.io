<!DOCTYPE html>
<html lang="pl-PL">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wynik</title>
    <link rel="stylesheet" href="assets/points/style-points.css">
</head>
<body>
    <section id="points">
        <div class="points-container">
            <h1>Wynik:</h1>
            <p id="sum"></p>
        </div>
    </section>
    <div class="button-container">
        <a href="end.html"><span>Dowiedź się więcej</span></a>
    </div>
    <div style="text-align: center;">
        <a href="index.html"><button id="delete-cookie">Zagraj ponownie</button></a>
    </div>
    <script>
      // Funkcja do pobierania ciasteczka
function getCookie(name) {
    const cookies = document.cookie.split(';');
    for (let i = 0; i < cookies.length; i++) {
        const cookie = cookies[i].trim();
        if (cookie.startsWith(name + '=')) {
            return decodeURIComponent(cookie.split('=')[1]);
        }
    }
    return null;
}

// Funkcja do wyświetlania wyniku z ciasteczka
function displayPoints() {
    const gameWon = getCookie('gameWon'); // Pobieramy ciasteczko 'gameWon'
    const sumElement = document.getElementById('sum');

    if (gameWon) {
        sumElement.textContent = `Liczba wygranych: ${gameWon}`; // Wyświetlamy wartość
    } else {
        sumElement.textContent = 'Brak zapisanych wyników.'; // Jeśli ciasteczko nie istnieje
    }
}

function deleteCookie(name) {
    document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=None; Secure`;
}

// Obsługa kliknięcia przycisku do usunięcia ciasteczka
document.getElementById('delete-cookie').addEventListener('click', () => {
    deleteCookie('gameWon'); // Usuwamy ciasteczko 'gameWon'
    displayPoints(); // Odświeżamy widok, aby pokazać, że ciasteczko zostało usunięte
});

// Wywołanie funkcji, gdy strona się załaduje
document.addEventListener('DOMContentLoaded', () => {
    displayPoints(); // Wyświetlamy wynik z ciasteczka
});

    </script>
</body>
</html>
